/*!
 *  build: vue-admin-beautiful 
 *  vue-admin-beautiful author: chuzhixin 1204505056@qq.com 
 *  vue-admin-beautiful QQ Group(QQ群): 972435319、1139183756 
 *  time: 2022-2-15 17:34:33
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e2575538"],{1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},"2bce":function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"contract BaseRegistrar","name":"_base","type":"address"},{"internalType":"contract PriceOracle","name":"_prices","type":"address"},{"internalType":"uint256","name":"_minCommitmentAge","type":"uint256"},{"internalType":"uint256","name":"_maxCommitmentAge","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":true,"internalType":"bytes32","name":"label","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"cost","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"expires","type":"uint256"}],"name":"NameRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":true,"internalType":"bytes32","name":"label","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"cost","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"expires","type":"uint256"}],"name":"NameRenewed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oracle","type":"address"}],"name":"NewPriceOracle","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"constant":true,"inputs":[],"name":"MIN_REGISTRATION_DURATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"name","type":"string"}],"name":"available","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"commitment","type":"bytes32"}],"name":"commit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"commitments","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"bytes32","name":"secret","type":"bytes32"}],"name":"makeCommitment","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"bytes32","name":"secret","type":"bytes32"},{"internalType":"address","name":"resolver","type":"address"},{"internalType":"address","name":"addr","type":"address"}],"name":"makeCommitmentWithConfig","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[],"name":"maxCommitmentAge","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"minCommitmentAge","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"duration","type":"uint256"},{"internalType":"bytes32","name":"secret","type":"bytes32"}],"name":"register","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"duration","type":"uint256"},{"internalType":"bytes32","name":"secret","type":"bytes32"},{"internalType":"address","name":"resolver","type":"address"},{"internalType":"address","name":"addr","type":"address"}],"name":"registerWithConfig","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"duration","type":"uint256"}],"name":"renew","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"duration","type":"uint256"}],"name":"rentPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_minCommitmentAge","type":"uint256"},{"internalType":"uint256","name":"_maxCommitmentAge","type":"uint256"}],"name":"setCommitmentAges","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"contract PriceOracle","name":"_prices","type":"address"}],"name":"setPriceOracle","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes4","name":"interfaceID","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"name","type":"string"}],"name":"valid","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},"2e9d":function(e,t,n){"use strict";n.r(t),n.d(t,"baseURL",(function(){return s})),n.d(t,"getAddressURL",(function(){return i})),n.d(t,"getTransactionURL",(function(){return r}));var a=n("4360");function s(e){switch(e||(e=a["default"].getters["metamask/chainId"]),e=parseInt(e),e){case 1:return"https://etherscan.io";case 3:return"https://ropsten.etherscan.io";case 4:return"https://rinkeby.etherscan.io";case 5:return"https://goerli.etherscan.io";case 42:return"https://kovan.etherscan.io";default:return"https://etherscan.io"}}function i(e,t){var n=s(t);return n+"/address/"+e}function r(e,t){var n=s(t);return n+"/tx/"+e}},3:function(e,t){},4:function(e,t){},5:function(e,t){},6:function(e,t){},"6f42":function(e,t,n){},7:function(e,t){},8:function(e,t){},8746:function(e,t,n){},"8a79":function(e,t,n){"use strict";var a=n("23e7"),s=n("06cf").f,i=n("50c4"),r=n("5a34"),u=n("1d80"),l=n("ab13"),p=n("c430"),o="".endsWith,y=Math.min,c=l("endsWith"),d=!p&&!c&&!!function(){var e=s(String.prototype,"endsWith");return e&&!e.writable}();a({target:"String",proto:!0,forced:!d&&!c},{endsWith:function(e){var t=String(u(this));r(e);var n=arguments.length>1?arguments[1]:void 0,a=i(t.length),s=void 0===n?a:y(i(n),a),l=String(e);return o?o.call(t,l,s):t.slice(s-l.length,s)===l}})},9:function(e,t){},"9cf4":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{md:2,lg:6}},[n("div",{staticClass:"grid-content"})]),n("el-col",{attrs:{md:20,lg:12}},[n("el-card",{staticClass:"box-card"},[n("div",{attrs:{slot:"header"},slot:"header"},[e._v("合约调用")]),n("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-position":"right","label-width":"120px"},on:{validate:e.validateEvent}},[n("el-form-item",{attrs:{label:"合约地址：",prop:"address"}},[n("el-input",{staticClass:"input",model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1),n("el-form-item",{attrs:{label:"合约ABI文件：",prop:"file"}},[n("el-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"el-icon-document-copy",type:"primary",size:"small"},on:{click:e.checkFile}},[e._v(" 打开文件 ")]),n("span",[e._v(e._s(e.filename))]),n("input",{staticClass:"input",staticStyle:{display:"none"},attrs:{id:"fileinput",type:"file",accept:"application/json"},on:{change:e.checkFileSure}})],1),n("el-form-item",{attrs:{label:"常用合约ABI："}},[n("el-tag",{on:{click:function(t){return e.handleLoadBuiltInData("DSToken")}}},[e._v("DSToken")]),n("el-tag",{on:{click:function(t){return e.handleLoadBuiltInData("DaiJoin")}}},[e._v("DaiJoin")]),n("el-tag",{on:{click:function(t){return e.handleLoadBuiltInData("ETHRegistrarController")}}},[e._v(" ETHRegistrarController ")])],1)],1)],1),e.showAbiItems?n("el-card",e._l(e.abiItems,(function(t,a){return n("el-collapse",{key:a,staticClass:"collapse-item",model:{value:e.activated,callback:function(t){e.activated=t},expression:"activated"}},[n("eth-call",{attrs:{"abi-item":t,contract:e.contract}})],1)})),1):e._e()],1),n("el-col",{attrs:{md:2,lg:6}},[n("div",{staticClass:"grid-content"})])],1)},s=[],i=(n("4de4"),n("4160"),n("b0c0"),n("159b"),n("6779")),r=n("6e11"),u=n.n(r),l=n("f79a"),p=n("aab1"),o=n("e3bd"),y=n("a4d4"),c=n("2bce"),d={name:"Contract",components:{EthCall:l["default"]},data:function(){return{filename:"",abiItems:[],activated:[],contract:null,showAbiItems:!1,ruleForm:{file:"",address:"0x0000000000000000000000000000000000000000"},rules:{file:[{validator:function(e,t,n){n(new Error("解析合约ABI失败，请重新上传"))}}],address:[{validator:function(e,t,n){i["a"].isAddress(t)?n():n(new Error("请输入有效的合约地址"))},trigger:"blur"}]}}},methods:{checkFile:function(){document.querySelector("#fileinput").click()},checkFileSure:function(e){var t=this,n=new FileReader;n.onload=function(){try{t.activated=[];var e=JSON.parse(this.result);t.abiItems=t.filterFunction(e),t.$refs["ruleForm"].clearValidate("file"),t.$refs["ruleForm"].validateField("address")}catch(n){t.abiItems=[],t.$refs["ruleForm"].validateField("file")}};var a=document.querySelector("#fileinput").files[0];n.readAsText(a),this.filename=a.name},validateEvent:function(e,t){var n=this.abiItems.length>0;this.showAbiItems="address"===e&&t&&n,this.showAbiItems&&(this.contract=new u.a(this.abiItems,this.ruleForm.address))},filterFunction:function(e){var t=e.filter((function(e){return"function"===e.type}));return t.sort((function(e,t){if(e.stateMutability!==t.stateMutability){if("view"===e.stateMutability)return-1;if("view"===t.stateMutability)return 1}return 0})),t.forEach((function(e){var t=e.inputs;e.signature=Object(p["encodeFunctionSignature"])(e),t.forEach((function(e,t){""===e.name&&(e.name="p"+(t+1))}))})),t},handleLoadBuiltInData:function(e){switch(e){case"DSToken":this.filename="DSToken.json",this.abiItems=this.filterFunction(o);break;case"DaiJoin":this.filename="DaiJoin.json",this.abiItems=this.filterFunction(y);break;case"ETHRegistrarController":this.filename="ETHRegistrarController.json",this.abiItems=this.filterFunction(c);break}this.activated=[],this.$refs["ruleForm"].clearValidate("file"),this.$refs["ruleForm"].validateField("address"),document.querySelector("#fileinput").value=null}}},m=d,f=(n("f90e"),n("2877")),b=Object(f["a"])(m,a,s,!1,null,"4e6b1c9e",null);t["default"]=b.exports},a15b:function(e,t,n){"use strict";var a=n("23e7"),s=n("44ad"),i=n("fc6a"),r=n("a640"),u=[].join,l=s!=Object,p=r("join",",");a({target:"Array",proto:!0,forced:l||!p},{join:function(e){return u.call(i(this),void 0===e?",":e)}})},a4d4:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"vat_","type":"address"},{"internalType":"address","name":"dai_","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":true,"inputs":[{"indexed":true,"internalType":"bytes4","name":"sig","type":"bytes4"},{"indexed":true,"internalType":"address","name":"usr","type":"address"},{"indexed":true,"internalType":"bytes32","name":"arg1","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"arg2","type":"bytes32"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"}],"name":"LogNote","type":"event"},{"constant":false,"inputs":[],"name":"cage","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"dai","outputs":[{"internalType":"contract DSTokenLike","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"usr","type":"address"}],"name":"deny","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"usr","type":"address"},{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"exit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"usr","type":"address"},{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"join","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"live","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"usr","type":"address"}],"name":"rely","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"vat","outputs":[{"internalType":"contract VatLike","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"wards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]')},e3bd:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"bytes32","name":"symbol_","type":"bytes32"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"src","type":"address"},{"indexed":true,"internalType":"address","name":"guy","type":"address"},{"indexed":false,"internalType":"uint256","name":"wad","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"guy","type":"address"},{"indexed":false,"internalType":"uint256","name":"wad","type":"uint256"}],"name":"Burn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"authority","type":"address"}],"name":"LogSetAuthority","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"LogSetOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"guy","type":"address"},{"indexed":false,"internalType":"uint256","name":"wad","type":"uint256"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[],"name":"Start","type":"event"},{"anonymous":false,"inputs":[],"name":"Stop","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"src","type":"address"},{"indexed":true,"internalType":"address","name":"dst","type":"address"},{"indexed":false,"internalType":"uint256","name":"wad","type":"uint256"}],"name":"Transfer","type":"event"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"guy","type":"address"},{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"guy","type":"address"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"authority","outputs":[{"internalType":"contract DSAuthority","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"guy","type":"address"},{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"guy","type":"address"},{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"mint","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"mint","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"src","type":"address"},{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"move","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"src","type":"address"},{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"pull","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"push","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"contract DSAuthority","name":"authority_","type":"address"}],"name":"setAuthority","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"name_","type":"bytes32"}],"name":"setName","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"owner_","type":"address"}],"name":"setOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"start","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"stop","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"stopped","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"src","type":"address"},{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},f79a:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-collapse-item",[n("template",{slot:"title"},[n("el-button",{staticClass:"button"},[n("b",[e._v(e._s(e.abiItem.name))])]),n("el-input",{attrs:{placeholder:e.placeholder,"suffix-icon":e.isView?"el-icon-success":"el-icon-more",disabled:""}})],1),n("el-form",{ref:"ruleForm",staticClass:"content",attrs:{"label-position":"right","label-width":"80px",model:e.ruleForm,rules:e.rules}},[e._l(e.inputs,(function(t,a){return n("el-form-item",{key:a,staticClass:"form-item",attrs:{label:t.type+":",prop:t.name}},[n("el-input",{attrs:{placeholder:t.name},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"input.value"}})],1)})),e.payable?n("el-form-item",{staticClass:"form-item",attrs:{label:"ether:"}},[n("el-input",{model:{value:e.etherValue,callback:function(t){e.etherValue=t},expression:"etherValue"}})],1):e._e(),n("div",{staticClass:"button-group"},[e.abiCode?n("el-tooltip",{attrs:{effect:"dark",content:"复制ABI数据",placement:"left"}},[n("el-button",{attrs:{icon:"el-icon-copy-document",size:"mini",circle:""},on:{click:e.handleClipboard}})],1):e._e(),n("el-button",{attrs:{loading:e.loading,type:"danger"},on:{click:e.transact}},[e._v(" transact ")])],1)],2),e.result?n("div",{staticStyle:{clear:"both"}},[n("el-divider"),n("center",[n("b",{staticStyle:{"margin-right":"5px"}},[e._v("Outputs:")]),e.isAddress()?n("el-link",{attrs:{type:"primary",href:e.getAddressURL(),target:"_blank"}},[e._v(" "+e._s(e.result)+" ")]):e.isTransactionHash()?n("el-link",{attrs:{type:"primary",href:e.getTransactionURL(),target:"_blank"}},[e._v(" "+e._s(e.result)+" ")]):n("span",[e._v(" "+e._s(e.result)+" ")])],1)],1):e._e()],2)},s=[],i=(n("4160"),n("caad"),n("a15b"),n("d81d"),n("b0c0"),n("ac1f"),n("8a79"),n("2532"),n("1276"),n("159b"),n("96cf"),n("1da1")),r=n("4360"),u=n("6779"),l=n("5ba3"),p=n.n(l),o=n("f71e"),y=n("2e9d"),c={name:"EthCall",props:{abiItem:{type:Object,default:function(){return{}}},contract:{type:Object,default:function(){return{}}}},data:function(){var e=this;return{rules:{},ruleForm:{},result:null,abiCode:null,loading:!1,etherValue:"0",checkEmptyString:function(t,n,a){n=e.ruleForm[t.field],n.length>0?a():a(new Error("参数不能为空"))}}},computed:{inputs:function(){return this.abiItem.inputs},payable:function(){return!0===this.abiItem.payable||"payable"===this.abiItem.stateMutability},isView:function(){return"view"===this.abiItem.stateMutability},placeholder:function(){var e=this.inputs.map((function(e){return e.type+" "+e.name})),t=this.abiItem.name+"("+e.join(", ")+")",n="",a=this.abiItem.outputs.map((function(e){return e.type}));return a.length>0&&(n=":("+a.join(", ")+")"),this.abiItem.signature+"  "+t+n}},watch:{inputs:{deep:!0,handler:function(){var e=this;this.inputs.forEach((function(t){e.ruleForm[t.name]=t.value}))}}},created:function(){var e=this;this.inputs.forEach((function(t){e.rules[t.name]=[{trigger:"change",validator:e.checkEmptyString}],e.ruleForm[t.name]=""}))},methods:{getAddressURL:function(){return Object(y["getAddressURL"])(this.result)},getTransactionURL:function(){return Object(y["getTransactionURL"])(this.result)},isAddress:function(){return u["a"].isAddress(this.result)},isTransactionHash:function(){return u["a"].isHexString(this.result,32)},transact:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=r["default"].getters["metamask/accounts"],window.ethereum&&0!==n.length){t.next=4;break}return e.$notify.error({title:"错误",message:"请先连接MetaMask钱包",position:"top-right"}),t.abrupt("return");case 4:if(a=!0,e.$refs["ruleForm"].validate((function(e){a=a&&e})),a){t.next=8;break}return t.abrupt("return");case 8:if(s=[],e.loading=!0,i=e.inputs.map((function(t){return t.type.endsWith("[]")?e.ruleForm[t.name].split(","):e.ruleForm[t.name]})),t.prev=11,e.abiCode=e.encodeABI(i),"view"!==e.abiItem.stateMutability){t.next=19;break}return t.next=16,e.ethCall(e.abiCode);case 16:s=t.sent,t.next=22;break;case 19:return t.next=21,e.ethSendTransaction(e.abiCode);case 21:s=t.sent;case 22:t.next=29;break;case 24:return t.prev=24,t.t0=t["catch"](11),e.loading=!1,e.$message.error(t.t0.message),t.abrupt("return");case 29:e.loading=!1,e.result=s.join(", ");case 31:case"end":return t.stop()}}),t,null,[[11,24]])})))()},encodeABI:function(e){var t=this.contract.methods[this.abiItem.name];return t.apply(t,e).encodeABI()},handleClipboard:function(e){Object(o["default"])(this.abiCode,e)},ethCall:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,window.ethereum.request({method:"eth_call",params:[{to:t.contract.options.address,data:e},"latest"]});case 2:return a=n.sent,s=t.abiItem.outputs.map((function(e){return e.type.includes("tuple")?e:e.type})),n.abrupt("return",u["a"].defaultAbiCoder.decode(s,a));case 5:case"end":return n.stop()}}),n)})))()},ethSendTransaction:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a="",s=r["default"].getters["metamask/accounts"],s.length>0&&(a=s[0]),n.next=5,window.ethereum.request({method:"eth_sendTransaction",params:[{from:a,to:t.contract.options.address,data:e,gas:p.a.toHex(1e5),value:p.a.toHex(p.a.toWei(t.etherValue,"ether"))}]});case 5:return i=n.sent,n.abrupt("return",[i]);case 7:case"end":return n.stop()}}),n)})))()}}},d=c,m=(n("f7c2"),n("2877")),f=Object(m["a"])(d,a,s,!1,null,"69745c10",null);t["default"]=f.exports},f7c2:function(e,t,n){"use strict";n("6f42")},f90e:function(e,t,n){"use strict";n("8746")}}]);